/*!
 * Validator v0.9.0 for Bootstrap 3, by @1000hz
 * Copyright 2015 Cina Saffary
 * Licensed under http://opensource.org/licenses/MIT
 *
 * https://github.com/1000hz/bootstrap-validator
 */+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),f=d.data("bs.validator");(f||"destroy"!=b)&&(f||d.data("bs.validator",f=new c(this,e)),"string"==typeof b&&f[b]())})}var c=function(b,d){this.$element=a(b),this.options=d,d.errors=a.extend({},c.DEFAULTS.errors,d.errors);for(var e in d.custom)if(!d.errors[e])throw new Error("Missing default error message for custom validator: "+e);a.extend(c.VALIDATORS,d.custom),this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",a.proxy(this.validateInput,this)),this.$element.on("submit.bs.validator",a.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var b=a(this),c=b.data("match");a(c).on("input.bs.validator",function(){b.val()&&b.trigger("input.bs.validator")})})};c.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible',c.DEFAULTS={delay:500,html:!1,disable:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}},c.VALIDATORS={"native":function(a){var b=a[0];return b.checkValidity?b.checkValidity():!0},match:function(b){var c=b.data("match");return!b.val()||b.val()===a(c).val()},minlength:function(a){var b=a.data("minlength");return!a.val()||a.val().length>=b}},c.prototype.validateInput=function(b){var c=a(b.target),d=c.data("bs.validator.errors");if(c.is('[type="radio"]')&&(c=this.$element.find('input[name="'+c.attr("name")+'"]')),this.$element.trigger(b=a.Event("validate.bs.validator",{relatedTarget:c[0]})),!b.isDefaultPrevented()){var e=this;this.runValidators(c).done(function(f){c.data("bs.validator.errors",f),f.length?e.showErrors(c):e.clearErrors(c),d&&f.toString()===d.toString()||(b=f.length?a.Event("invalid.bs.validator",{relatedTarget:c[0],detail:f}):a.Event("valid.bs.validator",{relatedTarget:c[0],detail:d}),e.$element.trigger(b)),e.toggleSubmit(),e.$element.trigger(a.Event("validated.bs.validator",{relatedTarget:c[0]}))})}},c.prototype.runValidators=function(b){function d(a){return b.data(a+"-error")||b.data("error")||"native"==a&&b[0].validationMessage||g.errors[a]}var e=[],f=a.Deferred(),g=this.options;return b.data("bs.validator.deferred")&&b.data("bs.validator.deferred").reject(),b.data("bs.validator.deferred",f),a.each(c.VALIDATORS,a.proxy(function(a,c){if((b.data(a)||"native"==a)&&!c.call(this,b)){var f=d(a);!~e.indexOf(f)&&e.push(f)}},this)),!e.length&&b.val()&&b.data("remote")?this.defer(b,function(){var c={};c[b.attr("name")]=b.val(),a.get(b.data("remote"),c).fail(function(a,b,c){e.push(d("remote")||c)}).always(function(){f.resolve(e)})}):f.resolve(e),f.promise()},c.prototype.validate=function(){var a=this.options.delay;return this.options.delay=0,this.$element.find(c.INPUT_SELECTOR).trigger("input.bs.validator"),this.options.delay=a,this},c.prototype.showErrors=function(b){var c=this.options.html?"html":"text";this.defer(b,function(){var d=b.closest(".form-group"),e=d.find(".help-block.with-errors"),f=d.find(".form-control-feedback"),g=b.data("bs.validator.errors");g.length&&(g=a("<ul/>").addClass("list-unstyled").append(a.map(g,function(b){return a("<li/>")[c](b)})),void 0===e.data("bs.validator.originalContent")&&e.data("bs.validator.originalContent",e.html()),e.empty().append(g),d.addClass("has-error"),f.length&&f.removeClass(this.options.feedback.success)&&f.addClass(this.options.feedback.error)&&d.removeClass("has-success"))})},c.prototype.clearErrors=function(a){var b=a.closest(".form-group"),c=b.find(".help-block.with-errors"),d=b.find(".form-control-feedback");c.html(c.data("bs.validator.originalContent")),b.removeClass("has-error"),d.length&&d.removeClass(this.options.feedback.error)&&d.addClass(this.options.feedback.success)&&b.addClass("has-success")},c.prototype.hasErrors=function(){function b(){return!!(a(this).data("bs.validator.errors")||[]).length}return!!this.$element.find(c.INPUT_SELECTOR).filter(b).length},c.prototype.isIncomplete=function(){function b(){return"checkbox"===this.type?!this.checked:"radio"===this.type?!a('[name="'+this.name+'"]:checked').length:""===a.trim(this.value)}return!!this.$element.find(c.INPUT_SELECTOR).filter("[required]").filter(b).length},c.prototype.onSubmit=function(a){this.validate(),(this.isIncomplete()||this.hasErrors())&&a.preventDefault()},c.prototype.toggleSubmit=function(){if(this.options.disable){var b=a('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]'));b.toggleClass("disabled",this.isIncomplete()||this.hasErrors())}},c.prototype.defer=function(b,c){return c=a.proxy(c,this),this.options.delay?(window.clearTimeout(b.data("bs.validator.timeout")),void b.data("bs.validator.timeout",window.setTimeout(c,this.options.delay))):c()},c.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$element.find(c.INPUT_SELECTOR).off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var b=a(this),c=b.data("bs.validator.timeout");window.clearTimeout(c)&&b.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var b=a(this),c=b.data("bs.validator.originalContent");b.removeData("bs.validator.originalContent").html(c)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error").removeClass("has-error"),this};var d=a.fn.validator;a.fn.validator=b,a.fn.validator.Constructor=c,a.fn.validator.noConflict=function(){return a.fn.validator=d,this},a(window).on("load",function(){a('form[data-bs-toggle="validator"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery);;(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof module=="object"&&module.exports?module.exports=function(t,n){return n===undefined&&(typeof window!="undefined"?n=require("jquery"):n=require("jquery")(t)),e(n),n}:e(jQuery)})(function(e){function A(t,n,i){typeof i=="string"&&(i={className:i}),this.options=E(w,e.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=e(h.html),this.options.clickToHide&&this.wrapper.addClass(r+"-hidable"),this.wrapper.data(r,this),this.arrow=this.wrapper.find("."+r+"-arrow"),this.container=this.wrapper.find("."+r+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=N(t),this.elem.data(r,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}var t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},n="notify",r=n+"js",i=n+"!blank",s={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},o=["l","c","r"],u=["t","m","b"],a=["t","b","l","r"],f={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},l=function(t){var n;return n=[],e.each(t.split(/\W+/),function(e,t){var r;r=t.toLowerCase().charAt(0);if(s[r])return n.push(r)}),n},c={},h={name:"core",html:'<div class="'+r+'-wrapper">\n	<div class="'+r+'-arrow"></div>\n	<div class="'+r+'-container"></div>\n</div>',css:"."+r+"-corner {\n	position: fixed;\n	margin: 5px;\n	z-index: 1050;\n}\n\n."+r+"-corner ."+r+"-wrapper,\n."+r+"-corner ."+r+"-container {\n	position: relative;\n	display: block;\n	height: inherit;\n	width: inherit;\n	margin: 3px;\n}\n\n."+r+"-wrapper {\n	z-index: 1;\n	position: absolute;\n	display: inline-block;\n	height: 0;\n	width: 0;\n}\n\n."+r+"-container {\n	display: none;\n	z-index: 1;\n	position: absolute;\n}\n\n."+r+"-hidable {\n	cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n	position: relative;\n}\n\n."+r+"-arrow {\n	position: absolute;\n	z-index: 2;\n	width: 0;\n	height: 0;\n}"},p={"border-radius":["-webkit-","-moz-"]},d=function(e){return c[e]},v=function(e){if(!e)throw"Missing Style name";c[e]&&delete c[e]},m=function(t,i){if(!t)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var s=c[t];s&&s.cssElem&&(window.console&&console.warn(n+": overwriting style '"+t+"'"),c[t].cssElem.remove()),i.name=t,c[t]=i;var o="";i.classes&&e.each(i.classes,function(t,n){return o+="."+r+"-"+i.name+"-"+t+" {\n",e.each(n,function(t,n){return p[t]&&e.each(p[t],function(e,r){return o+="	"+r+t+": "+n+";\n"}),o+="	"+t+": "+n+";\n"}),o+="}\n"}),i.css&&(o+="/* styles for "+i.name+" */\n"+i.css),o&&(i.cssElem=g(o),i.cssElem.attr("id","notify-"+i.name));var u={},a=e(i.html);y("html",a,u),y("text",a,u),i.fields=u},g=function(t){var n,r,i;r=x("style"),r.attr("type","text/css"),e("head").append(r);try{r.html(t)}catch(s){r[0].styleSheet.cssText=t}return r},y=function(t,n,r){var s;return t!=="html"&&(t="text"),s="data-notify-"+t,b(n,"["+s+"]").each(function(){var n;n=e(this).attr(s),n||(n=i),r[n]=t})},b=function(e,t){return e.is(t)?e:e.find(t)},w={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},E=function(t,n){var r;return r=function(){},r.prototype=t,e.extend(!0,new r,n)},S=function(t){return e.extend(w,t)},x=function(t){return e("<"+t+"></"+t+">")},T={},N=function(t){var n;return t.is("[type=radio]")&&(n=t.parents("form:first").find("[type=radio]").filter(function(n,r){return e(r).attr("name")===t.attr("name")}),t=n.first()),t},C=function(e,t,n){var r,i;if(typeof n=="string")n=parseInt(n,10);else if(typeof n!="number")return;if(isNaN(n))return;return r=s[f[t.charAt(0)]],i=t,e[r]!==undefined&&(t=s[r.charAt(0)],n=-n),e[t]===undefined?e[t]=n:e[t]+=n,null},k=function(e,t,n){if(e==="l"||e==="t")return 0;if(e==="c"||e==="m")return n/2-t/2;if(e==="r"||e==="b")return n-t;throw"Invalid alignment"},L=function(e){return L.e=L.e||x("div"),L.e.text(e).html()};A.prototype.loadHTML=function(){var t;t=this.getStyle(),this.userContainer=e(t.html),this.userFields=t.fields},A.prototype.show=function(e,t){var n,r,i,s,o;r=function(n){return function(){!e&&!n.elem&&n.destroy();if(t)return t()}}(this),o=this.container.parent().parents(":hidden").length>0,i=this.container.add(this.arrow),n=[];if(o&&e)s="show";else if(o&&!e)s="hide";else if(!o&&e)s=this.options.showAnimation,n.push(this.options.showDuration);else{if(!!o||!!e)return r();s=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(r),i[s].apply(i,n)},A.prototype.setGlobalPosition=function(){var t=this.getPosition(),n=t[0],i=t[1],o=s[n],u=s[i],a=n+"|"+i,f=T[a];if(!f||!document.body.contains(f[0])){f=T[a]=x("div");var l={};l[o]=0,u==="middle"?l.top="45%":u==="center"?l.left="45%":l[u]=0,f.css(l).addClass(r+"-corner"),e("body").append(f)}return f.prepend(this.wrapper)},A.prototype.setElementPosition=function(){var n,r,i,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,L,A,O,M,_,D,P,H,B,j;H=this.getPosition(),_=H[0],O=H[1],M=H[2],g=this.elem.position(),d=this.elem.outerHeight(),y=this.elem.outerWidth(),v=this.elem.innerHeight(),m=this.elem.innerWidth(),j=this.wrapper.position(),c=this.container.height(),h=this.container.width(),T=s[_],L=f[_],A=s[L],p={},p[A]=_==="b"?d:_==="r"?y:0,C(p,"top",g.top-j.top),C(p,"left",g.left-j.left),B=["top","left"];for(w=0,S=B.length;w<S;w++)D=B[w],N=parseInt(this.elem.css("margin-"+D),10),N&&C(p,D,N);b=Math.max(0,this.options.gap-(this.options.arrowShow?i:0)),C(p,A,b);if(!this.options.arrowShow)this.arrow.hide();else{i=this.options.arrowSize,r=e.extend({},p),n=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white";for(E=0,x=a.length;E<x;E++){D=a[E],P=s[D];if(D===L)continue;l=P===T?n:"transparent",r["border-"+P]=i+"px solid "+l}C(p,s[L],i),t.call(a,O)>=0&&C(r,s[O],i*2)}t.call(u,_)>=0?(C(p,"left",k(O,h,y)),r&&C(r,"left",k(O,i,m))):t.call(o,_)>=0&&(C(p,"top",k(O,c,d)),r&&C(r,"top",k(O,i,v))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p);if(r)return this.arrow.removeAttr("style").css(r)},A.prototype.getPosition=function(){var e,n,r,i,s,f,c,h;h=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),e=l(h),e.length===0&&(e[0]="b");if(n=e[0],t.call(a,n)<0)throw"Must be one of ["+a+"]";if(e.length===1||(r=e[0],t.call(u,r)>=0)&&(i=e[1],t.call(o,i)<0)||(s=e[0],t.call(o,s)>=0)&&(f=e[1],t.call(u,f)<0))e[1]=(c=e[0],t.call(o,c)>=0)?"m":"l";return e.length===2&&(e[2]=e[1]),e},A.prototype.getStyle=function(e){var t;e||(e=this.options.style),e||(e="default"),t=c[e];if(!t)throw"Missing style: "+e;return t},A.prototype.updateClasses=function(){var t,n;return t=["base"],e.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),n=this.getStyle(),t=e.map(t,function(e){return r+"-"+n.name+"-"+e}).join(" "),this.userContainer.attr("class",t)},A.prototype.run=function(t,n){var r,s,o,u,a;e.isPlainObject(n)?e.extend(this.options,n):e.type(n)==="string"&&(this.options.className=n);if(this.container&&!t){this.show(!1);return}if(!this.container&&!t)return;s={},e.isPlainObject(t)?s=t:s[i]=t;for(o in s){r=s[o],u=this.userFields[o];if(!u)continue;u==="text"&&(r=L(r),this.options.breakNewLines&&(r=r.replace(/\n/g,"<br/>"))),a=o===i?"":"="+o,b(this.userContainer,"[data-notify-"+u+a+"]").html(r)}this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))},A.prototype.destroy=function(){this.wrapper.data(r,null),this.wrapper.remove()},e[n]=function(t,r,i){return t&&t.nodeName||t.jquery?e(t)[n](r,i):(i=r,r=t,new A(null,r,i)),t},e.fn[n]=function(t,n){return e(this).each(function(){var i=N(e(this)).data(r);i&&i.destroy();var s=new A(e(this),t,n)}),this},e.extend(e[n],{defaults:S,addStyle:m,removeStyle:v,pluginOptions:w,getStyle:d,insertCSS:g}),m("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),e(function(){g(h.css).attr("id","core-notify"),e(document).on("click","."+r+"-hidable",function(t){e(this).trigger("notify-hide")}),e(document).on("notify-hide","."+r+"-wrapper",function(t){var n=e(this).data(r);n&&n.show(!1)})})});/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/src/FileSaver.js */var saveAs=saveAs||(function(view){"use strict";if(typeof view==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return;}
var
doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view;},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event);},is_safari=/constructor/i.test(view.HTMLElement)||view.safari,is_chrome_ios=/CriOS\/[\d]+/.test(navigator.userAgent),throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex;},0);},force_saveable_type="application/octet-stream",arbitrary_revoke_timeout=1000*40,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file);}else{file.remove();}};setTimeout(revoker,arbitrary_revoke_timeout);},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver);}catch(ex){throw_outside(ex);}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob([String.fromCharCode(0xFEFF),blob],{type:blob.type});}
return blob;},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob);}
var
filesaver=this,type=blob.type,force=type===force_saveable_type,object_url,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "));},fs_error=function(){if((is_chrome_ios||(force&&is_safari))&&view.FileReader){var reader=new FileReader();reader.onloadend=function(){var url=is_chrome_ios?reader.result:reader.result.replace(/^data:[^;]*;/,'data:attachment/file;');var popup=view.open(url,'_blank');if(!popup)view.location.href=url;url=undefined;filesaver.readyState=filesaver.DONE;dispatch_all();};reader.readAsDataURL(blob);filesaver.readyState=filesaver.INIT;return;}
if(!object_url){object_url=get_URL().createObjectURL(blob);}
if(force){view.location.href=object_url;}else{var opened=view.open(object_url,"_blank");if(!opened){view.location.href=object_url;}}
filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url);};filesaver.readyState=filesaver.INIT;if(can_use_save_link){object_url=get_URL().createObjectURL(blob);setTimeout(function(){save_link.href=object_url;save_link.download=name;click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE;});return;}
fs_error();},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name||blob.name||"download",no_auto_bom);};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){name=name||blob.name||"download";if(!no_auto_bom){blob=auto_bom(blob);}
return navigator.msSaveOrOpenBlob(blob,name);};}
FS_proto.abort=function(){};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs;}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this));;var App=function(){var isRTL=false;var isIE8=false;var isIE9=false;var isIE10=false;var resizeHandlers=[];var assetsPath='/static/assets/quiz/';var globalImgPath='global/img/';var globalPluginsPath='global/plugins/';var globalCssPath='global/css/';var dashboard_item_height='';var brandColors={'blue':'#89C4F4','red':'#F3565D','green':'#1bbc9b','purple':'#9b59b6','grey':'#95a5a6','yellow':'#F8CB00'};var handleInit=function(){if($('body').css('direction')==='rtl'){isRTL=true;}
isIE8=!!navigator.userAgent.match(/MSIE 8.0/);isIE9=!!navigator.userAgent.match(/MSIE 9.0/);isIE10=!!navigator.userAgent.match(/MSIE 10.0/);if(isIE10){$('html').addClass('ie10');}
if(isIE10||isIE9||isIE8){$('html').addClass('ie');}};var _runResizeHandlers=function(){for(var i=0;i<resizeHandlers.length;i++){var each=resizeHandlers[i];each.call();}};var handleOnResize=function(){var resize;if(isIE8){var currheight;$(window).resize(function(){if(currheight==document.documentElement.clientHeight){return;}
if(resize){clearTimeout(resize);}
resize=setTimeout(function(){_runResizeHandlers();},50);currheight=document.documentElement.clientHeight;});}else{$(window).resize(function(){if(resize){clearTimeout(resize);}
resize=setTimeout(function(){_runResizeHandlers();},50);});}};var handlePortletTools=function(){$('body').on('click','.portlet > .portlet-title .fullscreen',function(e){e.preventDefault();var portlet=$(this).closest(".portlet");if(portlet.hasClass('portlet-fullscreen')){$(this).removeClass('on');portlet.removeClass('portlet-fullscreen');$('body').removeClass('page-portlet-fullscreen');portlet.children('.portlet-body').css('height','auto');if(TEMPLATE_NAME=='entity'){portlet.find('.slimScrollDiv').css('height','calc(100vh - 220px)');portlet.find('.scroller').css('height','calc(100vh - 220px)');}else{if(dashboard_item_height!=''){portlet.find('.slimScrollDiv').css('height',dashboard_item_height+'px');portlet.find('.scroller').css('height',dashboard_item_height+'px');}else{portlet.find('.slimScrollDiv').css('height','200px');portlet.find('.scroller').css('height','200px');}}
portlet.find('.tooltip').tooltip('hide')
dashboard_item_height=''}else{var height=App.getViewPort().height-
portlet.children('.portlet-title').outerHeight()-
parseInt(portlet.children('.portlet-body').css('padding-top'))-
parseInt(portlet.children('.portlet-body').css('padding-bottom'));dashboard_item_height=portlet.find('.slimScrollDiv').outerHeight()
$(this).addClass('on');portlet.addClass('portlet-fullscreen');$('body').addClass('page-portlet-fullscreen');portlet.children('.portlet-body').css('height',height);portlet.find('.slimScrollDiv').css('height','100%');portlet.find('.scroller').css('height','100%');portlet.find('.tooltip').tooltip('hide')}});};var handleUniform=function(){if(!$().uniform){return;}
var test=$("input[type=checkbox]:not(.toggle, .md-check, .md-radiobtn, .make-switch, .icheck), input[type=radio]:not(.toggle, .md-check, .md-radiobtn, .star, .make-switch, .icheck)");if(test.size()>0){test.each(function(){if($(this).parents(".checker").size()===0){$(this).show();$(this).uniform();}});}};var handleMaterialDesign=function(){$('body').on('click','.md-checkbox > label, .md-radio > label',function(){var the=$(this);var el=$(this).children('span:first-child');el.addClass('inc');var newone=el.clone(true);el.before(newone);$("."+el.attr("class")+":last",the).remove();});if($('body').hasClass('page-md')){var element,circle,d,x,y;$('body').on('click','a.btn, button.btn, input.btn, label.btn',function(e){element=$(this);if(element.find(".md-click-circle").length==0){element.prepend("<span class='md-click-circle'></span>");}
circle=element.find(".md-click-circle");circle.removeClass("md-click-animate");if(!circle.height()&&!circle.width()){d=Math.max(element.outerWidth(),element.outerHeight());circle.css({height:d,width:d});}
x=e.pageX-element.offset().left-circle.width()/2;y=e.pageY-element.offset().top-circle.height()/2;circle.css({top:y+'px',left:x+'px'}).addClass("md-click-animate");setTimeout(function(){circle.remove();},1000);});}
var handleInput=function(el){if(el.val()!=""){el.addClass('edited');}else{el.removeClass('edited');}}
$('body').on('keydown','.form-md-floating-label .form-control',function(e){handleInput($(this));});$('body').on('blur','.form-md-floating-label .form-control',function(e){handleInput($(this));});$('.form-md-floating-label .form-control').each(function(){if($(this).val().length>0){$(this).addClass('edited');}});}
var handleiCheck=function(){if(!$().iCheck){return;}
$('.icheck').each(function(){var checkboxClass=$(this).attr('data-checkbox')?$(this).attr('data-checkbox'):'icheckbox_minimal-grey';var radioClass=$(this).attr('data-radio')?$(this).attr('data-radio'):'iradio_minimal-grey';if(checkboxClass.indexOf('_line')>-1||radioClass.indexOf('_line')>-1){$(this).iCheck({checkboxClass:checkboxClass,radioClass:radioClass,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")});}else{$(this).iCheck({checkboxClass:checkboxClass,radioClass:radioClass});}});};var handleBootstrapSwitch=function(){if(!$().bootstrapSwitch){return;}
$('.make-switch').bootstrapSwitch();};var handleBootstrapConfirmation=function(){if(!$().confirmation){return;}
$('[data-bs-toggle=confirmation]').confirmation({btnOkClass:'btn btn-sm btn-success',btnCancelClass:'btn btn-sm btn-danger'});}
var handleAccordions=function(){$('body').on('shown.bs.collapse','.accordion.scrollable',function(e){App.scrollTo($(e.target));});};var handleTabs=function(){if(location.hash){var tabid=encodeURI(location.hash.substr(1));$('a[href="#'+tabid+'"]').parents('.tab-pane:hidden').each(function(){var tabid=$(this).attr("id");$('a[href="#'+tabid+'"]').click();});$('a[href="#'+tabid+'"]').click();}
if($().tabdrop){$('.tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs').tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'});}};var handleModals=function(){$('body').on('hide.bs.modal',function(){if($('.modal:visible').size()>1&&$('html').hasClass('modal-open')===false){$('html').addClass('modal-open');}else if($('.modal:visible').size()<=1){$('html').removeClass('modal-open');}});$('body').on('show.bs.modal','.modal',function(){if($(this).hasClass("modal-scroll")){$('body').addClass("modal-open-noscroll");}});$('body').on('hidden.bs.modal','.modal',function(){$('body').removeClass("modal-open-noscroll");});$('body').on('hidden.bs.modal','.modal:not(.modal-cached)',function(){$(this).removeData('bs.modal');});};var handleTooltips=function(){$('.tooltips').tooltip();$('.portlet > .portlet-title .fullscreen').tooltip({container:'body',title:'Fullscreen'});$('.portlet > .portlet-title > .tools > .download-d3').tooltip({container:'body',title:'Download'});$('.portlet > .portlet-title > .tools > .remove').tooltip({container:'body',title:'Remove'});$('.portlet > .portlet-title > .tools > .config').tooltip({container:'body',title:'Settings'});$('.portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand').tooltip({container:'body',title:'Collapse/Expand'});};var handleDropdowns=function(){$('body').on('click','.dropdown-menu.hold-on-click',function(e){e.stopPropagation();});};var handleAlerts=function(){$('body').on('click','[data-close="alert"]',function(e){$(this).parent('.alert').hide();$(this).closest('.note').hide();e.preventDefault();});$('body').on('click','[data-close="note"]',function(e){$(this).closest('.note').hide();e.preventDefault();});$('body').on('click','[data-remove="note"]',function(e){$(this).closest('.note').remove();e.preventDefault();});};var handleDropdownHover=function(){$('[data-hover="dropdown"]').not('.hover-initialized').each(function(){$(this).dropdownHover();$(this).addClass('hover-initialized');});};var handleTextareaAutosize=function(){if(typeof(autosize)=="function"){autosize(document.querySelector('textarea.autosizeme'));}}
var handlePopovers=function(){let popover_selector='.popover, .popover > *';$(`:not(${popover_selector})`).on('click',hide_popovers);$(document).on('inserted.bs.popover',function(){$(popover_selector).on('click',function(click_event){click_event.stopPropagation();});});};var handleScrollers=function(){App.initSlimScroll('.scroller');};var handleFancybox=function(){if(!jQuery.fancybox){return;}
if($(".fancybox-button").size()>0){$(".fancybox-button").fancybox({groupAttr:'data-rel',prevEffect:'none',nextEffect:'none',closeBtn:true,helpers:{title:{type:'inside'}}});}};var handleCounterup=function(){if(!$().counterUp){return;}
$("[data-counter='counterup']").counterUp({delay:10,time:1000});};var handleFixInputPlaceholderForIE=function(){if(isIE8||isIE9){$('input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)').each(function(){var input=$(this);if(input.val()===''&&input.attr("placeholder")!==''){input.addClass("placeholder").val(input.attr('placeholder'));}
input.focus(function(){if(input.val()==input.attr('placeholder')){input.val('');}});input.blur(function(){if(input.val()===''||input.val()==input.attr('placeholder')){input.val(input.attr('placeholder'));}});});}};var handleSelect2=function(){if($().select2){$.fn.select2.defaults.set("theme","bootstrap");$('.select2me').select2({placeholder:"Select",width:'auto',allowClear:true});}};var handleHeight=function(){$('[data-auto-height]').each(function(){var parent=$(this);var items=$('[data-height]',parent);var height=0;var mode=parent.attr('data-mode');var offset=parseInt(parent.attr('data-offset')?parent.attr('data-offset'):0);items.each(function(){if($(this).attr('data-height')=="height"){$(this).css('height','');}else{$(this).css('min-height','');}
var height_=(mode=='base-height'?$(this).outerHeight():$(this).outerHeight(true));if(height_>height){height=height_;}});height=height+offset;items.each(function(){if($(this).attr('data-height')=="height"){$(this).css('height',height);}else{$(this).css('min-height',height);}});if(parent.attr('data-related')){$(parent.attr('data-related')).css('height',parent.height());}});}
return{init:function(){handleInit();handleOnResize();handleScrollers()
handlePortletTools()
handlePopovers()},initAjax:function(){handleScrollers();},initComponents:function(){this.initAjax();},addResizeHandler:function(func){resizeHandlers.push(func);},runResizeHandlers:function(){_runResizeHandlers();},scrollTo:function(el,offeset){var pos=(el&&el.size()>0)?el.offset().top:0;if(el){if($('body').hasClass('page-header-fixed')){pos=pos-$('.page-header').height();}else if($('body').hasClass('page-header-top-fixed')){pos=pos-$('.page-header-top').height();}else if($('body').hasClass('page-header-menu-fixed')){pos=pos-$('.page-header-menu').height();}
pos=pos+(offeset?offeset:-1*el.height());}
$('html,body').animate({scrollTop:pos},'slow');},initSlimScroll:function(el){$(el).each(function(){if($(this).attr("data-initialized")){return;}
var height;if($(this).attr("data-height")){height=$(this).attr("data-height");}else{height=$(this).css('height');}
$(this).slimScroll({allowPageScroll:true,size:'7px',color:($(this).attr("data-handle-color")?$(this).attr("data-handle-color"):'#bbb'),wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):'slimScrollDiv'),railColor:($(this).attr("data-rail-color")?$(this).attr("data-rail-color"):'#eaeaea'),position:isRTL?'left':'right',height:height,alwaysVisible:($(this).attr("data-always-visible")=="1"?true:false),railVisible:($(this).attr("data-rail-visible")=="1"?true:false),disableFadeOut:true});$(this).attr("data-initialized","1");});},destroySlimScroll:function(el){$(el).each(function(){if($(this).attr("data-initialized")==="1"){$(this).removeAttr("data-initialized");$(this).removeAttr("style");var attrList={};if($(this).attr("data-handle-color")){attrList["data-handle-color"]=$(this).attr("data-handle-color");}
if($(this).attr("data-wrapper-class")){attrList["data-wrapper-class"]=$(this).attr("data-wrapper-class");}
if($(this).attr("data-rail-color")){attrList["data-rail-color"]=$(this).attr("data-rail-color");}
if($(this).attr("data-always-visible")){attrList["data-always-visible"]=$(this).attr("data-always-visible");}
if($(this).attr("data-rail-visible")){attrList["data-rail-visible"]=$(this).attr("data-rail-visible");}
$(this).slimScroll({wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):'slimScrollDiv'),destroy:true});var the=$(this);$.each(attrList,function(key,value){the.attr(key,value);});}});},scrollTop:function(){App.scrollTo();},blockUI:function(options){options=$.extend(true,{},options);var html='';if(options.animate){html='<div class="loading-message '+(options.boxed?'loading-message-boxed':'')+'">'+'<div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'+'</div>';}else if(options.iconOnly){html='<div class="loading-message '+(options.boxed?'loading-message-boxed':'')+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>';}else if(options.textOnly){html='<div class="loading-message '+(options.boxed?'loading-message-boxed':'')+'"><span>&nbsp;&nbsp;'+(options.message?options.message:'LOADING...')+'</span></div>';}else{html='<div class="loading-message '+(options.boxed?'loading-message-boxed':'')+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(options.message?options.message:'LOADING...')+'</span></div>';}
if(options.target){var el=$(options.target);if(el.height()<=($(window).height())){options.cenrerY=true;}
el.block({message:html,baseZ:options.zIndex?options.zIndex:1000,centerY:options.cenrerY!==undefined?options.cenrerY:false,css:{top:'10%',border:'0',padding:'0',backgroundColor:'none'},overlayCSS:{backgroundColor:options.overlayColor?options.overlayColor:'#555',opacity:options.boxed?0.05:0.1,cursor:'wait'}});}else{$.blockUI({message:html,baseZ:options.zIndex?options.zIndex:1000,css:{border:'0',padding:'0',backgroundColor:'none'},overlayCSS:{backgroundColor:options.overlayColor?options.overlayColor:'#555',opacity:options.boxed?0.05:0.1,cursor:'wait'}});}},unblockUI:function(target){if(target){$(target).unblock({onUnblock:function(){$(target).css('position','');$(target).css('zoom','');}});}else{$.unblockUI();}},startPageLoading:function(options){if(options&&options.animate){$('.page-spinner-bar').remove();$('body').append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>');}else{$('.page-loading').remove();$('body').append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(options&&options.message?options.message:'Loading...')+'</span></div>');}},stopPageLoading:function(){$('.page-loading, .page-spinner-bar').remove();},alert:function(options){options=$.extend(true,{container:"",place:"append",type:'success',message:"",close:true,reset:true,focus:true,closeInSeconds:0,icon:""},options);var id=App.getUniqueID("App_alert");let html='<div id="'+id+'" class="custom-alerts alert alert-'+options.type+' fade in">'+(options.close?'<button type="button" class="close" data-bs-dismiss="alert" aria-hidden="true"></button>':'')+(options.icon!==""?'<i class="fa-lg fa fa-'+options.icon+'"></i>  ':'')+options.message+'</div>';if(options.reset){$('.custom-alerts').remove();}
if(!options.container){if($('.page-fixed-main-content').size()===1){$('.page-fixed-main-content').prepend(html);}else if(($('body').hasClass("page-container-bg-solid")||$('body').hasClass("page-content-white"))&&$('.page-head').size()===0){$('.page-title').after(html);}else{if($('.page-bar').size()>0){$('.page-bar').after(html);}else{$('.page-breadcrumb, .breadcrumbs').after(html);}}}else{if(options.place=="append"){$(options.container).append(html);}else{$(options.container).prepend(html);}}
if(options.focus){App.scrollTo($('#'+id));}
if(options.closeInSeconds>0){setTimeout(function(){$('#'+id).remove();},options.closeInSeconds*1000);}
return id;},initUniform:function(els){if(els){$(els).each(function(){if($(this).parents(".checker").size()===0){$(this).show();$(this).uniform();}});}else{handleUniform();}},updateUniform:function(els){$.uniform.update(els);},initFancybox:function(){handleFancybox();},getActualVal:function(el){el=$(el);if(el.val()===el.attr("placeholder")){return"";}
return el.val();},getURLParameter:function(paramName){var searchString=window.location.search.substring(1),i,val,params=searchString.split("&");for(i=0;i<params.length;i++){val=params[i].split("=");if(val[0]==paramName){return unescape(val[1]);}}
return null;},isTouchDevice:function(){try{document.createEvent("TouchEvent");return true;}catch(e){return false;}},getViewPort:function(){var e=window,a='inner';if(!('innerWidth'in window)){a='client';e=document.documentElement||document.body;}
return{width:e[a+'Width'],height:e[a+'Height']};},getUniqueID:function(prefix){return'prefix_'+Math.floor(Math.random()*(new Date()).getTime());},isIE8:function(){return isIE8;},isIE9:function(){return isIE9;},isRTL:function(){return isRTL;},isAngularJsApp:function(){return(typeof angular=='undefined')?false:true;},getAssetsPath:function(){return assetsPath;},setAssetsPath:function(path){assetsPath=path;},setGlobalImgPath:function(path){globalImgPath=path;},getGlobalImgPath:function(){return assetsPath+globalImgPath;},setGlobalPluginsPath:function(path){globalPluginsPath=path;},getGlobalPluginsPath:function(){return assetsPath+globalPluginsPath;},getGlobalCssPath:function(){return assetsPath+globalCssPath;},getBrandColor:function(name){if(brandColors[name]){return brandColors[name];}else{return'';}},getResponsiveBreakpoint:function(size){var sizes={'xs':480,'sm':768,'md':992,'lg':1200};return sizes[size]?sizes[size]:0;}};}();jQuery(document).ready(function(){App.init();});;/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Improved by keenthemes for Metronic Theme
 * Version: 1.3.2
 *
 */(function($){jQuery.fn.extend({slimScroll:function(options){var defaults={width:'auto',height:'250px',size:'7px',color:'#000',position:'right',distance:'1px',start:'top',opacity:.4,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:'#333',railOpacity:.2,railDraggable:true,railClass:'slimScrollRail',barClass:'slimScrollBar',wrapperClass:'slimScrollDiv',allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:'7px',railBorderRadius:'7px',animate:true};var o=$.extend(defaults,options);this.each(function(){var isOverPanel,isOverBar,isDragg,queueHide,touchDif,barHeight,percentScroll,lastScroll,divS='<div></div>',minBarHeight=30,releaseScroll=false;var me=$(this);if('ontouchstart'in window&&window.navigator.msPointerEnabled){me.css("-ms-touch-action","none");}
if(me.parent().hasClass(o.wrapperClass)){var offset=me.scrollTop();bar=me.parent().find('.'+o.barClass);rail=me.parent().find('.'+o.railClass);getBarHeight();if($.isPlainObject(options)){if('height'in options&&options.height=='auto'){me.parent().css('height','auto');me.css('height','auto');var height=me.parent().parent().height();me.parent().css('height',height);me.css('height',height);}
if('scrollTo'in options){offset=parseInt(o.scrollTo);}else if('scrollBy'in options){offset+=parseInt(o.scrollBy);}else if('destroy'in options){bar.remove();rail.remove();me.unwrap();return;}
scrollContent(offset,false,true);}
return;}
o.height=(options.height=='auto')?me.parent().height():options.height;var wrapper=$(divS).addClass(o.wrapperClass).css({position:'relative',overflow:'hidden',width:o.width,height:o.height});me.css({overflow:'hidden',width:o.width,height:o.height});var rail=$(divS).addClass(o.railClass).css({width:o.size,height:'100%',position:'absolute',top:0,display:(o.alwaysVisible&&o.railVisible)?'block':'none','border-radius':o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90});var bar=$(divS).addClass(o.barClass).css({background:o.color,width:o.size,position:'absolute',top:0,opacity:o.opacity,display:o.alwaysVisible?'block':'none','border-radius':o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99});var posCss=(o.position=='right')?{right:o.distance}:{left:o.distance};rail.css(posCss);bar.css(posCss);me.wrap(wrapper);me.parent().append(bar);me.parent().append(rail);if(o.railDraggable){bar.bind("mousedown",function(e){var $doc=$(document);isDragg=true;t=parseFloat(bar.css('top'));pageY=e.pageY;$doc.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY;bar.css('top',currTop);scrollContent(0,bar.position().top,false);});$doc.bind("mouseup.slimscroll",function(e){isDragg=false;hideBar();$doc.unbind('.slimscroll');});return false;}).bind("selectstart.slimscroll",function(e){e.stopPropagation();e.preventDefault();return false;});}
if('ontouchstart'in window&&window.navigator.msPointerEnabled){me.bind('MSPointerDown',function(e,b){touchDif=e.originalEvent.pageY;});me.bind('MSPointerMove',function(e){e.originalEvent.preventDefault();var diff=(touchDif-e.originalEvent.pageY)/o.touchScrollStep;scrollContent(diff,true);touchDif=e.originalEvent.pageY;});}
rail.on("hover",function(){showBar();},function(){hideBar();});bar.on("hover",function(){isOverBar=true;},function(){isOverBar=false;});me.on("hover",function(){isOverPanel=true;showBar();hideBar();},function(){isOverPanel=false;hideBar();});me.on('touchstart',function(e,b){if(e.originalEvent.touches.length){touchDif=e.originalEvent.touches[0].pageY;}});me.on('touchmove',function(e){if(!releaseScroll){e.originalEvent.preventDefault();}
if(e.originalEvent.touches.length){var diff=(touchDif-e.originalEvent.touches[0].pageY)/o.touchScrollStep;scrollContent(diff,true);touchDif=e.originalEvent.touches[0].pageY;}});getBarHeight();if(o.start==='bottom'){bar.css({top:me.outerHeight()-bar.outerHeight()});scrollContent(0,true);}else if(o.start!=='top'){scrollContent($(o.start).position().top,null,true);if(!o.alwaysVisible){bar.hide();}}
attachWheel();function _onWheel(e){if(!isOverPanel){return;}
var e=e||window.event;var delta=0;if(e.wheelDelta){delta=-e.wheelDelta/120;}
if(e.detail){delta=e.detail/3;}
var target=e.target||e.srcTarget||e.srcElement;if($(target).closest('.'+o.wrapperClass).is(me.parent())){scrollContent(delta,true);}
if(e.preventDefault&&!releaseScroll){e.preventDefault();}
if(!releaseScroll){e.returnValue=false;}}
function scrollContent(y,isWheel,isJump){releaseScroll=false;var delta=y;var maxTop=me.outerHeight()-bar.outerHeight();if(isWheel){delta=parseInt(bar.css('top'))+y*parseInt(o.wheelStep)/100*bar.outerHeight();delta=Math.min(Math.max(delta,0),maxTop);delta=(y>0)?Math.ceil(delta):Math.floor(delta);bar.css({top:delta+'px'});}
percentScroll=parseInt(bar.css('top'))/(me.outerHeight()-bar.outerHeight());delta=percentScroll*(me[0].scrollHeight-me.outerHeight());if(isJump){delta=y;var offsetTop=delta/me[0].scrollHeight*me.outerHeight();offsetTop=Math.min(Math.max(offsetTop,0),maxTop);bar.css({top:offsetTop+'px'});}
if('scrollTo'in o&&o.animate){me.animate({scrollTop:delta});}else{me.scrollTop(delta);}
me.trigger('slimscrolling',~~delta);showBar();hideBar();}
function attachWheel(){if(window.addEventListener){this.addEventListener('DOMMouseScroll',_onWheel,false);this.addEventListener('mousewheel',_onWheel,false);}else{document.attachEvent("onmousewheel",_onWheel)}}
function getBarHeight(){barHeight=Math.max((me.outerHeight()/me[0].scrollHeight)*me.outerHeight(),minBarHeight);bar.css({height:barHeight+'px'});var display=barHeight==me.outerHeight()?'none':'block';bar.css({display:display});}
function showBar(){getBarHeight();clearTimeout(queueHide);if(percentScroll==~~percentScroll){releaseScroll=o.allowPageScroll;if(lastScroll!=percentScroll){var msg=(~~percentScroll==0)?'top':'bottom';me.trigger('slimscroll',msg);}}else{releaseScroll=false;}
lastScroll=percentScroll;if(barHeight>=me.outerHeight()){releaseScroll=true;return;}
bar.stop(true,true).fadeIn('fast');if(o.railVisible){rail.stop(true,true).fadeIn('fast');}}
function hideBar(){if(!o.alwaysVisible){queueHide=setTimeout(function(){if(!(o.disableFadeOut&&isOverPanel)&&!isOverBar&&!isDragg){bar.fadeOut('slow');rail.fadeOut('slow');}},1000);}}});return this;}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll});})(jQuery);;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */'use strict';if(!window.setImmediate){window.setImmediate=(function setupSetImmediate(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||(function setupSetZeroTimeout(){if(!window.postMessage||!window.addEventListener){return null;}
var callbacks=[undefined];var message='zero-timeout-message';var setZeroTimeout=function setZeroTimeout(callback){var id=callbacks.length;callbacks.push(callback);window.postMessage(message+id.toString(36),'*');return id;};window.addEventListener('message',function setZeroTimeoutMessage(evt){if(typeof evt.data!=='string'||evt.data.substr(0,message.length)!==message){return;}
evt.stopImmediatePropagation();var id=parseInt(evt.data.substr(message.length),36);if(!callbacks[id]){return;}
callbacks[id]();callbacks[id]=undefined;},true);window.clearImmediate=function clearZeroTimeout(id){if(!callbacks[id]){return;}
callbacks[id]=undefined;};return setZeroTimeout;})()||function setImmediateFallback(fn){window.setTimeout(fn,0);};})();}
if(!window.clearImmediate){window.clearImmediate=(function setupClearImmediate(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function clearImmediateFallback(timer){window.clearTimeout(timer);};})();}
(function(global){var isSupported=(function isSupported(){var canvas=document.createElement('canvas');if(!canvas||!canvas.getContext){return false;}
var ctx=canvas.getContext('2d');if(!ctx.getImageData){return false;}
if(!ctx.fillText){return false;}
if(!Array.prototype.some){return false;}
if(!Array.prototype.push){return false;}
return true;}());var minFontSize=(function getMinFontSize(){if(!isSupported){return;}
var ctx=document.createElement('canvas').getContext('2d');var size=20;var hanWidth,mWidth;while(size){ctx.font=size.toString(10)+'px sans-serif';if((ctx.measureText('\uFF37').width===hanWidth)&&(ctx.measureText('m').width)===mWidth){return(size+1);}
hanWidth=ctx.measureText('\uFF37').width;mWidth=ctx.measureText('m').width;size--;}
return 0;})();var shuffleArray=function shuffleArray(arr){for(var j,x,i=arr.length;i;j=Math.floor(Math.random()*i),x=arr[--i],arr[i]=arr[j],arr[j]=x){}
return arr;};var WordCloud=function WordCloud(elements,options){if(!isSupported){return;}
if(!Array.isArray(elements)){elements=[elements];}
elements.forEach(function(el,i){if(typeof el==='string'){elements[i]=document.getElementById(el);if(!elements[i]){throw'The element id specified is not found.';}}else if(!el.tagName&&!el.appendChild){throw'You must pass valid HTML elements, or ID of the element.';}});var settings={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", '+'"Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:'normal',color:'random-dark',minSize:0,weightFactor:1,clearCanvas:true,backgroundColor:'#fff',gridSize:8,drawOutOfBound:false,origin:null,drawMask:false,maskColor:'rgba(255,0,0,0.3)',maskGapWidth:0.3,wait:0,abortThreshold:0,abort:function noop(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,shuffle:true,rotateRatio:0.1,shape:'circle',ellipticity:0.65,classes:null,hover:null,click:null};if(options){for(var key in options){if(key in settings){settings[key]=options[key];}}}
if(typeof settings.weightFactor!=='function'){var factor=settings.weightFactor;settings.weightFactor=function weightFactor(pt){return pt*factor;};}
if(typeof settings.shape!=='function'){switch(settings.shape){case'circle':default:settings.shape='circle';break;case'cardioid':settings.shape=function shapeCardioid(theta){return 1-Math.sin(theta);};break;case'diamond':case'square':settings.shape=function shapeSquare(theta){var thetaPrime=theta%(2*Math.PI/4);return 1/(Math.cos(thetaPrime)+Math.sin(thetaPrime));};break;case'triangle-forward':settings.shape=function shapeTriangle(theta){var thetaPrime=theta%(2*Math.PI/3);return 1/(Math.cos(thetaPrime)+
Math.sqrt(3)*Math.sin(thetaPrime));};break;case'triangle':case'triangle-upright':settings.shape=function shapeTriangle(theta){var thetaPrime=(theta+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(thetaPrime)+
Math.sqrt(3)*Math.sin(thetaPrime));};break;case'pentagon':settings.shape=function shapePentagon(theta){var thetaPrime=(theta+0.955)%(2*Math.PI/5);return 1/(Math.cos(thetaPrime)+
0.726543*Math.sin(thetaPrime));};break;case'star':settings.shape=function shapeStar(theta){var thetaPrime=(theta+0.955)%(2*Math.PI/10);if((theta+0.955)%(2*Math.PI/5)-(2*Math.PI/10)>=0){return 1/(Math.cos((2*Math.PI/10)-thetaPrime)+
3.07768*Math.sin((2*Math.PI/10)-thetaPrime));}else{return 1/(Math.cos(thetaPrime)+
3.07768*Math.sin(thetaPrime));}};break;}}
settings.gridSize=Math.max(Math.floor(settings.gridSize),4);var g=settings.gridSize;var maskRectWidth=g-settings.maskGapWidth;var rotationRange=Math.abs(settings.maxRotation-settings.minRotation);var minRotation=Math.min(settings.maxRotation,settings.minRotation);var grid,ngx,ngy,center,maxRadius;var escapeTime;var getTextColor;function random_hsl_color(min,max){return'hsl('+
(Math.random()*360).toFixed()+','+
(Math.random()*30+70).toFixed()+'%,'+
(Math.random()*(max-min)+min).toFixed()+'%)';}
switch(settings.color){case'random-dark':getTextColor=function getRandomDarkColor(){return random_hsl_color(10,50);};break;case'random-light':getTextColor=function getRandomLightColor(){return random_hsl_color(50,90);};break;default:if(typeof settings.color==='function'){getTextColor=settings.color;}
break;}
var getTextClasses=null;if(typeof settings.classes==='function'){getTextClasses=settings.classes;}
var interactive=false;var infoGrid=[];var hovered;var getInfoGridFromMouseTouchEvent=function getInfoGridFromMouseTouchEvent(evt){var canvas=evt.currentTarget;var rect=canvas.getBoundingClientRect();var clientX;var clientY;if(evt.touches){clientX=evt.touches[0].clientX;clientY=evt.touches[0].clientY;}else{clientX=evt.clientX;clientY=evt.clientY;}
var eventX=clientX-rect.left;var eventY=clientY-rect.top;var x=Math.floor(eventX*((canvas.width/rect.width)||1)/g);var y=Math.floor(eventY*((canvas.height/rect.height)||1)/g);return infoGrid[x][y];};var wordcloudhover=function wordcloudhover(evt){var info=getInfoGridFromMouseTouchEvent(evt);if(hovered===info){return;}
hovered=info;if(!info){settings.hover(undefined,undefined,evt);return;}
settings.hover(info.item,info.dimension,evt);};var wordcloudclick=function wordcloudclick(evt){var info=getInfoGridFromMouseTouchEvent(evt);if(!info){return;}
settings.click(info.item,info.dimension,evt);evt.preventDefault();};var pointsAtRadius=[];var getPointsAtRadius=function getPointsAtRadius(radius){if(pointsAtRadius[radius]){return pointsAtRadius[radius];}
var T=radius*8;var t=T;var points=[];if(radius===0){points.push([center[0],center[1],0]);}
while(t--){var rx=1;if(settings.shape!=='circle'){rx=settings.shape(t/T*2*Math.PI);}
points.push([center[0]+radius*rx*Math.cos(-t/T*2*Math.PI),center[1]+radius*rx*Math.sin(-t/T*2*Math.PI)*settings.ellipticity,t/T*2*Math.PI]);}
pointsAtRadius[radius]=points;return points;};var exceedTime=function exceedTime(){return((settings.abortThreshold>0)&&((new Date()).getTime()-escapeTime>settings.abortThreshold));};var getRotateDeg=function getRotateDeg(){if(settings.rotateRatio===0){return 0;}
if(Math.random()>settings.rotateRatio){return 0;}
if(rotationRange===0){return minRotation;}
return minRotation+Math.random()*rotationRange;};var getTextInfo=function getTextInfo(word,weight,rotateDeg){var debug=false;var fontSize=settings.weightFactor(weight);if(fontSize<=settings.minSize){return false;}
var mu=1;if(fontSize<minFontSize){mu=(function calculateScaleFactor(){var mu=2;while(mu*fontSize<minFontSize){mu+=2;}
return mu;})();}
var fcanvas=document.createElement('canvas');var fctx=fcanvas.getContext('2d',{willReadFrequently:true});fctx.font=settings.fontWeight+' '+
(fontSize*mu).toString(10)+'px '+settings.fontFamily;var fw=fctx.measureText(word).width/mu;var fh=Math.max(fontSize*mu,fctx.measureText('m').width,fctx.measureText('\uFF37').width)/mu;var boxWidth=fw+fh*2;var boxHeight=fh*3;var fgw=Math.ceil(boxWidth/g);var fgh=Math.ceil(boxHeight/g);boxWidth=fgw*g;boxHeight=fgh*g;var fillTextOffsetX=-fw/2;var fillTextOffsetY=-fh*0.4;var cgh=Math.ceil((boxWidth*Math.abs(Math.sin(rotateDeg))+
boxHeight*Math.abs(Math.cos(rotateDeg)))/g);var cgw=Math.ceil((boxWidth*Math.abs(Math.cos(rotateDeg))+
boxHeight*Math.abs(Math.sin(rotateDeg)))/g);var width=cgw*g;var height=cgh*g;fcanvas.setAttribute('width',width);fcanvas.setAttribute('height',height);if(debug){document.body.appendChild(fcanvas);fctx.save();}
fctx.scale(1/mu,1/mu);fctx.translate(width*mu/2,height*mu/2);fctx.rotate(-rotateDeg);fctx.font=settings.fontWeight+' '+
(fontSize*mu).toString(10)+'px '+settings.fontFamily;fctx.fillStyle='#000';fctx.textBaseline='middle';fctx.fillText(word,fillTextOffsetX*mu,(fillTextOffsetY+fontSize*0.5)*mu);var imageData=fctx.getImageData(0,0,width,height).data;if(exceedTime()){return false;}
if(debug){fctx.strokeRect(fillTextOffsetX*mu,fillTextOffsetY,fw*mu,fh*mu);fctx.restore();}
var occupied=[];var gx=cgw,gy,x,y;var bounds=[cgh/2,cgw/2,cgh/2,cgw/2];while(gx--){gy=cgh;while(gy--){y=g;singleGridLoop:{while(y--){x=g;while(x--){if(imageData[((gy*g+y)*width+
(gx*g+x))*4+3]){occupied.push([gx,gy]);if(gx<bounds[3]){bounds[3]=gx;}
if(gx>bounds[1]){bounds[1]=gx;}
if(gy<bounds[0]){bounds[0]=gy;}
if(gy>bounds[2]){bounds[2]=gy;}
if(debug){fctx.fillStyle='rgba(255, 0, 0, 0.5)';fctx.fillRect(gx*g,gy*g,g-0.5,g-0.5);}
break singleGridLoop;}}}
if(debug){fctx.fillStyle='rgba(0, 0, 255, 0.5)';fctx.fillRect(gx*g,gy*g,g-0.5,g-0.5);}}}}
if(debug){fctx.fillStyle='rgba(0, 255, 0, 0.5)';fctx.fillRect(bounds[3]*g,bounds[0]*g,(bounds[1]-bounds[3]+1)*g,(bounds[2]-bounds[0]+1)*g);}
return{mu:mu,occupied:occupied,bounds:bounds,gw:cgw,gh:cgh,fillTextOffsetX:fillTextOffsetX,fillTextOffsetY:fillTextOffsetY,fillTextWidth:fw,fillTextHeight:fh,fontSize:fontSize};};var canFitText=function canFitText(gx,gy,gw,gh,occupied){var i=occupied.length;while(i--){var px=gx+occupied[i][0];var py=gy+occupied[i][1];if(px>=ngx||py>=ngy||px<0||py<0){if(!settings.drawOutOfBound){return false;}
continue;}
if(!grid[px][py]){return false;}}
return true;};var drawText=function drawText(gx,gy,info,word,weight,distance,theta,rotateDeg,attributes){var fontSize=info.fontSize;var color;if(getTextColor){color=getTextColor(word,weight,fontSize,distance,theta);}else{color=settings.color;}
var classes;if(getTextClasses){classes=getTextClasses(word,weight,fontSize,distance,theta);}else{classes=settings.classes;}
var dimension;var bounds=info.bounds;dimension={x:(gx+bounds[3])*g,y:(gy+bounds[0])*g,w:(bounds[1]-bounds[3]+1)*g,h:(bounds[2]-bounds[0]+1)*g};elements.forEach(function(el){if(el.getContext){var ctx=el.getContext('2d');var mu=info.mu;ctx.save();ctx.scale(1/mu,1/mu);ctx.font=settings.fontWeight+' '+
(fontSize*mu).toString(10)+'px '+settings.fontFamily;ctx.fillStyle=color;ctx.translate((gx+info.gw/2)*g*mu,(gy+info.gh/2)*g*mu);if(rotateDeg!==0){ctx.rotate(-rotateDeg);}
ctx.textBaseline='middle';ctx.fillText(word,info.fillTextOffsetX*mu,(info.fillTextOffsetY+fontSize*0.5)*mu);ctx.restore();}else{var span=document.createElement('span');var transformRule='';transformRule='rotate('+(-rotateDeg/Math.PI*180)+'deg) ';if(info.mu!==1){transformRule+='translateX(-'+(info.fillTextWidth/4)+'px) '+'scale('+(1/info.mu)+')';}
var styleRules={'position':'absolute','display':'block','font':settings.fontWeight+' '+
(fontSize*info.mu)+'px '+settings.fontFamily,'left':((gx+info.gw/2)*g+info.fillTextOffsetX)+'px','top':((gy+info.gh/2)*g+info.fillTextOffsetY)+'px','width':info.fillTextWidth+'px','height':info.fillTextHeight+'px','lineHeight':fontSize+'px','whiteSpace':'nowrap','transform':transformRule,'webkitTransform':transformRule,'msTransform':transformRule,'transformOrigin':'50% 40%','webkitTransformOrigin':'50% 40%','msTransformOrigin':'50% 40%'};if(color){styleRules.color=color;}
span.textContent=word;for(var cssProp in styleRules){span.style[cssProp]=styleRules[cssProp];}
if(attributes){for(var attribute in attributes){span.setAttribute(attribute,attributes[attribute]);}}
if(classes){span.className+=classes;}
el.appendChild(span);}});};var fillGridAt=function fillGridAt(x,y,drawMask,dimension,item){if(x>=ngx||y>=ngy||x<0||y<0){return;}
grid[x][y]=false;if(drawMask){var ctx=elements[0].getContext('2d');ctx.fillRect(x*g,y*g,maskRectWidth,maskRectWidth);}
if(interactive){infoGrid[x][y]={item:item,dimension:dimension};}};var updateGrid=function updateGrid(gx,gy,gw,gh,info,item){var occupied=info.occupied;var drawMask=settings.drawMask;var ctx;if(drawMask){ctx=elements[0].getContext('2d');ctx.save();ctx.fillStyle=settings.maskColor;}
var dimension;if(interactive){var bounds=info.bounds;dimension={x:(gx+bounds[3])*g,y:(gy+bounds[0])*g,w:(bounds[1]-bounds[3]+1)*g,h:(bounds[2]-bounds[0]+1)*g};}
var i=occupied.length;while(i--){var px=gx+occupied[i][0];var py=gy+occupied[i][1];if(px>=ngx||py>=ngy||px<0||py<0){continue;}
fillGridAt(px,py,drawMask,dimension,item);}
if(drawMask){ctx.restore();}};var putWord=function putWord(item){var word,weight,attributes;if(Array.isArray(item)){word=item[0];weight=item[1];}else{word=item.word;weight=item.weight;attributes=item.attributes;}
var rotateDeg=getRotateDeg();var info=getTextInfo(word,weight,rotateDeg);if(!info){return false;}
if(exceedTime()){return false;}
if(!settings.drawOutOfBound){var bounds=info.bounds;if((bounds[1]-bounds[3]+1)>ngx||(bounds[2]-bounds[0]+1)>ngy){return false;}}
var r=maxRadius+1;var tryToPutWordAtPoint=function(gxy){var gx=Math.floor(gxy[0]-info.gw/2);var gy=Math.floor(gxy[1]-info.gh/2);var gw=info.gw;var gh=info.gh;if(!canFitText(gx,gy,gw,gh,info.occupied)){return false;}
drawText(gx,gy,info,word,weight,(maxRadius-r),gxy[2],rotateDeg,attributes);updateGrid(gx,gy,gw,gh,info,item);return true;};while(r--){var points=getPointsAtRadius(maxRadius-r);if(settings.shuffle){points=[].concat(points);shuffleArray(points);}
var drawn=points.some(tryToPutWordAtPoint);if(drawn){return true;}}
return false;};var sendEvent=function sendEvent(type,cancelable,detail){if(cancelable){return!elements.some(function(el){var evt=document.createEvent('CustomEvent');evt.initCustomEvent(type,true,cancelable,detail||{});return!el.dispatchEvent(evt);},this);}else{elements.forEach(function(el){var evt=document.createEvent('CustomEvent');evt.initCustomEvent(type,true,cancelable,detail||{});el.dispatchEvent(evt);},this);}};var start=function start(){var canvas=elements[0];if(canvas.getContext){ngx=Math.ceil(canvas.width/g);ngy=Math.ceil(canvas.height/g);}else{var rect=canvas.getBoundingClientRect();ngx=Math.ceil(rect.width/g);ngy=Math.ceil(rect.height/g);}
if(!sendEvent('wordcloudstart',true)){return;}
center=(settings.origin)?[settings.origin[0]/g,settings.origin[1]/g]:[ngx/2,ngy/2];maxRadius=Math.floor(Math.sqrt(ngx*ngx+ngy*ngy));grid=[];var gx,gy,i;if(!canvas.getContext||settings.clearCanvas){elements.forEach(function(el){if(el.getContext){var ctx=el.getContext('2d');ctx.fillStyle=settings.backgroundColor;ctx.clearRect(0,0,ngx*(g+1),ngy*(g+1));ctx.fillRect(0,0,ngx*(g+1),ngy*(g+1));}else{el.textContent='';el.style.backgroundColor=settings.backgroundColor;el.style.position='relative';}});gx=ngx;while(gx--){grid[gx]=[];gy=ngy;while(gy--){grid[gx][gy]=true;}}}else{var bctx=document.createElement('canvas').getContext('2d');bctx.fillStyle=settings.backgroundColor;bctx.fillRect(0,0,1,1);var bgPixel=bctx.getImageData(0,0,1,1).data;var imageData=canvas.getContext('2d').getImageData(0,0,ngx*g,ngy*g).data;gx=ngx;var x,y;while(gx--){grid[gx]=[];gy=ngy;while(gy--){y=g;singleGridLoop:while(y--){x=g;while(x--){i=4;while(i--){if(imageData[((gy*g+y)*ngx*g+
(gx*g+x))*4+i]!==bgPixel[i]){grid[gx][gy]=false;break singleGridLoop;}}}}
if(grid[gx][gy]!==false){grid[gx][gy]=true;}}}
imageData=bctx=bgPixel=undefined;}
if(settings.hover||settings.click){interactive=true;gx=ngx+1;while(gx--){infoGrid[gx]=[];}
if(settings.hover){canvas.addEventListener('mousemove',wordcloudhover);}
if(settings.click){canvas.addEventListener('click',wordcloudclick);canvas.addEventListener('touchstart',wordcloudclick);canvas.addEventListener('touchend',function(e){e.preventDefault();});canvas.style.webkitTapHighlightColor='rgba(0, 0, 0, 0)';}
canvas.addEventListener('wordcloudstart',function stopInteraction(){canvas.removeEventListener('wordcloudstart',stopInteraction);canvas.removeEventListener('mousemove',wordcloudhover);canvas.removeEventListener('click',wordcloudclick);hovered=undefined;});}
i=0;var loopingFunction,stoppingFunction;if(settings.wait!==0){loopingFunction=window.setTimeout;stoppingFunction=window.clearTimeout;}else{loopingFunction=window.setImmediate;stoppingFunction=window.clearImmediate;}
var addEventListener=function addEventListener(type,listener){elements.forEach(function(el){el.addEventListener(type,listener);},this);};var removeEventListener=function removeEventListener(type,listener){elements.forEach(function(el){el.removeEventListener(type,listener);},this);};var anotherWordCloudStart=function anotherWordCloudStart(){removeEventListener('wordcloudstart',anotherWordCloudStart);stoppingFunction(timer);};addEventListener('wordcloudstart',anotherWordCloudStart);var timer=loopingFunction(function loop(){if(i>=settings.list.length){stoppingFunction(timer);sendEvent('wordcloudstop',false);removeEventListener('wordcloudstart',anotherWordCloudStart);return;}
escapeTime=(new Date()).getTime();var drawn=putWord(settings.list[i]);var canceled=!sendEvent('wordclouddrawn',true,{item:settings.list[i],drawn:drawn});if(exceedTime()||canceled){stoppingFunction(timer);settings.abort();sendEvent('wordcloudabort',false);sendEvent('wordcloudstop',false);removeEventListener('wordcloudstart',anotherWordCloudStart);return;}
i++;timer=loopingFunction(loop,settings.wait);},settings.wait);};start();};WordCloud.isSupported=isSupported;WordCloud.minFontSize=minFontSize;if(typeof define==='function'&&define.amd){define('wordcloud',[],function(){return WordCloud;});}else if(typeof module!=='undefined'&&module.exports){module.exports=WordCloud;}else{global.WordCloud=WordCloud;}})(this);/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);;function update_reference(id_doc_reference){var url=$('#url_reference').val().trim();url=url!==""?add_http(url):"";json={title:$('#title_reference').val(),url:url,abstract:$('#abstract_reference').val(),doc_es_id:id_doc_reference};csrftoken=getCookie('csrftoken');$.ajax({url:"/update-reference/",type:"post",data:json,beforeSend:function(xhr,settings){xhr.setRequestHeader("X-CSRFToken",csrftoken);},success:function(result){var super_parent=$('#'+id_doc_reference);var card_title=super_parent.find('.references-card-title');var title=card_title.find('p a');title.text($('#title_reference').val());if($('#url_reference').val().trim()===""){title.removeAttr("href");}else{title.attr("href",url);}
super_parent.find('.pub-bold-color').text($('#abstract_reference').val());},error:function(xhr,errmsg,err){var do_nothing;}});};